# This file describes the network interfaces available on your system
# and how to activate them. For more information, see interfaces(5).

source /etc/network/interfaces.d/*

# The loopback network interface
auto lo
iface lo inet loopback

{% if admin_net is not defined or admin_net == True %}
auto eth9
iface eth9 inet dhcp
{% endif %}

{% for iface in interfaces %}
auto {{ iface.name }}

{% if iface.inet_dhcp is defined and iface.inet_dhcp == True %} 
iface {{ iface.name }} inet dhcp
{% endif %}

{% if iface.inet is defined %} 
iface {{ iface.name }} inet static
{% for grp in iface.inet %}
{% for k in grp.keys() %}
	{{ k }} {{ grp[k] }}
{% endfor %}
{% endfor %}
{% endif %}

{% if iface.inet6 is defined %} 
iface {{ iface.name }} inet6 static
{% for grp in iface.inet6 %}
{% for k in grp.keys() %}
	{{ k }} {{ grp[k] }}
{% endfor %}
{% endfor %}
{% endif %}

{% endfor %}
